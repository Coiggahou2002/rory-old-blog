{"title":"npm cheat sheet","uid":"17c4a4a2974859ec97857b45c9cf78f2","slug":"npm_cheat_sheet","date":"2022-01-07T12:45:00.000Z","updated":"2022-08-01T02:35:06.896Z","comments":true,"path":"api/articles/npm_cheat_sheet.json","keywords":null,"cover":[],"content":"<p>全局更新 npm：<code>npm i npm -g</code></p>\n<p>强制清理缓存(高版本禁用)：<code>npm cache clean --force</code></p>\n<p>安装 cnpm：<code>npm install -g cnpm --registry=https://registry.npm.taobao.org</code></p>\n<span id=\"more\"></span>\n<p><img src=\"https://cjpark-1304138896.cos.ap-guangzhou.myqcloud.com/note_img/image-20210730161344324.png\" alt=\"\" /></p>\n<h2 id=\"命令\"><a class=\"markdownIt-Anchor\" href=\"#命令\"></a> 命令</h2>\n<h3 id=\"版本\"><a class=\"markdownIt-Anchor\" href=\"#版本\"></a> 版本</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> -v<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"初始化\"><a class=\"markdownIt-Anchor\" href=\"#初始化\"></a> 初始化</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> init   //引导创建package.json<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"安装\"><a class=\"markdownIt-Anchor\" href=\"#安装\"></a> 安装</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> 模块名 -g           //全局安装\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> 模块名              //本项目安装\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> 模块名@latest       //最新版本安装\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> 模块名@版本号        //指定版本\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> 模块1 模块2 模块3    //一次性安装多个\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> 模块名 --save-dev   //安装开发时依赖包<span class=\"token punctuation\">(</span>devDependencies<span class=\"token punctuation\">)</span>\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> 模块名 --save       //安装运行时依赖包<span class=\"token punctuation\">(</span>dependencies<span class=\"token punctuation\">)</span>\n<span class=\"token function\">npm</span> uninstall 模块名            //卸载某个模块<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>标注 <code>--save-dev</code> 的模块会被加入 <code>package.json</code> 中的 <code>devDependencies</code></p>\n<p>标注 <code>--save</code> 的模块会被加入 <code>package.json</code> 中的 <code>dependencies</code></p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>npm install 可缩写为 npm i</p></blockquote>\n<h3 id=\"更新\"><a class=\"markdownIt-Anchor\" href=\"#更新\"></a> 更新</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> update 包名<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"查看各种信息\"><a class=\"markdownIt-Anchor\" href=\"#查看各种信息\"></a> 查看各种信息</h3>\n<p>查看已经安装的模块</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> list            //直接全部列出\n<span class=\"token function\">npm</span> list --depth<span class=\"token operator\">=</span><span class=\"token number\">0</span>  //限制层级深度<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>查看模块安装位置</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> root      //查看本项目中模块安装位置\n<span class=\"token function\">npm</span> root -g   //查看全局模块安装位置<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>以关键词搜索已经存在的 npm 包</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> search 关键词    //例如搜vue会出来一堆vue r<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>查看 npm 源上某个包可用的所有版本号</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> view 包名 versions<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"缓存相关\"><a class=\"markdownIt-Anchor\" href=\"#缓存相关\"></a> 缓存相关</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> cache clean            //清除缓存\n<span class=\"token function\">npm</span> cache clean --force    //强制清除缓存<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<h3 id=\"执行脚本\"><a class=\"markdownIt-Anchor\" href=\"#执行脚本\"></a> 执行脚本</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> run 任务名称<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>任务名称指 package.json 里的 <code>scripts</code> 中配置的命令名</p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"watch\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"webpack --watch --progress --colors --config webpack.conf.js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"dev\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"webpack --progress --colors --config webpack.conf.js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"prod\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"NODE_ENV=production webpack -p --config webpack.conf.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"常见问题\"><a class=\"markdownIt-Anchor\" href=\"#常见问题\"></a> 常见问题</h2>\n<p>1.执行 <code>npm install lodash</code> 发生了什么？</p>\n<p>npm 会下载 lodash 的<strong>最新的可用版本</strong>包，放到当前执行该命令的目录下的 node_modules 文件夹中；与此同时，会将安装的 lodash 及其版本号添加到 package.json 中的 dependencies (运行时依赖) 中</p>\n<p>2.<code>package-lock.json</code> 到底是干嘛的？</p>\n<p>3.<code>npm update</code> 干了什么？</p>\n<p>当运行 <code>npm update</code> 时，<code>package-lock.json</code> 文件中的依赖的版本会被更新</p>\n<h2 id=\"注意\"><a class=\"markdownIt-Anchor\" href=\"#注意\"></a> 注意</h2>\n<ol>\n<li>通常不建议 <code>npm install -g</code>，因为这样可能导致版本冲突问题，毕竟可能有些项目用的是 Webpack 4，有些是 Webpack 5</li>\n<li></li>\n</ol>\n","text":"全局更新 npm：npm i npm -g 强制清理缓存(高版本禁用)：npm cache clean --force 安装 cnpm：npm install -g cnpm --registry=https://registry.npm.taobao.org 命令 版本 npm...","link":"","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[{"name":"前端开发","slug":"前端开发","count":1,"path":"api/categories/前端开发.json"}],"tags":[{"name":"前端开发","slug":"前端开发","count":3,"path":"api/tags/前端开发.json"},{"name":"npm","slug":"npm","count":1,"path":"api/tags/npm.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\"> 命令</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%89%88%E6%9C%AC\"><span class=\"toc-text\"> 版本</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%9D%E5%A7%8B%E5%8C%96\"><span class=\"toc-text\"> 初始化</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85\"><span class=\"toc-text\"> 安装</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9B%B4%E6%96%B0\"><span class=\"toc-text\"> 更新</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E5%90%84%E7%A7%8D%E4%BF%A1%E6%81%AF\"><span class=\"toc-text\"> 查看各种信息</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%BC%93%E5%AD%98%E7%9B%B8%E5%85%B3\"><span class=\"toc-text\"> 缓存相关</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%89%A7%E8%A1%8C%E8%84%9A%E6%9C%AC\"><span class=\"toc-text\"> 执行脚本</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98\"><span class=\"toc-text\"> 常见问题</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%B3%A8%E6%84%8F\"><span class=\"toc-text\"> 注意</span></a></li></ol>","author":{"name":"菲尔普斯","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/72149771?v=4","link":"/","description":"你曾经灼热的眼眶，是人生中少数的笨拙又可贵的时刻","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"5个月，我从一个完整项目学到了什么？","uid":"791254d594b7636005fb08a54038cd61","slug":"oj_proj","date":"2022-02-06T09:15:00.000Z","updated":"2022-08-01T02:26:43.386Z","comments":true,"path":"api/articles/oj_proj.json","keywords":null,"cover":[],"text":" 零、前言 好久没写文章了，今天这期文章，想跟各位计算机专业的新手伙伴们聊一个老生常见的话题。 为什么大家总说要通过做项目来学习？ 想想当初的我，也像各位小朋友一样，心里充满了问号： 大家说的“开发”、“做项目”到底是在干啥？ 我到底需要学哪些东西、怎么学、学到什么程度，才能做成...","link":"","photos":[],"count_time":{"symbolsCount":"8.2k","symbolsTime":"7 mins."},"categories":[{"name":"项目经验","slug":"项目经验","count":2,"path":"api/categories/项目经验.json"}],"tags":[{"name":"前端开发","slug":"前端开发","count":3,"path":"api/tags/前端开发.json"},{"name":"经验","slug":"经验","count":2,"path":"api/tags/经验.json"},{"name":"随笔","slug":"随笔","count":2,"path":"api/tags/随笔.json"}],"author":{"name":"菲尔普斯","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/72149771?v=4","link":"/","description":"你曾经灼热的眼眶，是人生中少数的笨拙又可贵的时刻","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Vue 的组件通信总结","uid":"9eb5ca10bff6be7f75941f8be934e3c2","slug":"vue_comp_commu","date":"2021-11-09T06:15:00.000Z","updated":"2022-08-01T02:30:48.113Z","comments":true,"path":"api/articles/vue_comp_commu.json","keywords":null,"cover":[],"text":" 常用方案 通过 props 传递 $emit 触发自定义事件 使用 $ref 使用事件总线 $parent 或 $root attrs 与 listeners provide 与 inject 通过 Vuex 具体场景 父传子 父组件通过给 props 给子组件传值. 通过一个...","link":"","photos":[],"count_time":{"symbolsCount":"4.4k","symbolsTime":"4 mins."},"categories":[{"name":"项目经验","slug":"项目经验","count":2,"path":"api/categories/项目经验.json"}],"tags":[{"name":"前端开发","slug":"前端开发","count":3,"path":"api/tags/前端开发.json"},{"name":"经验","slug":"经验","count":2,"path":"api/tags/经验.json"},{"name":"随笔","slug":"随笔","count":2,"path":"api/tags/随笔.json"}],"author":{"name":"菲尔普斯","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/72149771?v=4","link":"/","description":"你曾经灼热的眼眶，是人生中少数的笨拙又可贵的时刻","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}